<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>
  <script>
    function fn1() {
      var a = 1
      function fn2() {
        a++
        console.log(a)
      }
      
      return fn2
    }
    
    var f = fn1()
    // 作用1: 在函数执行完之后还可以保留内部变量,变量不会消失在内存中,延长内部变量的生命周期
    // 作用2: 使函数外部可以操作(读写)函数内部的数据(变量/函数)
    f(); // 2
    f(); // 3

    function fn3() {
      let a = 0

      function fn4() {
        return a
      }
      return fn4
    }

    let x = fn3()
    console.log(x())

    /*
    * 此时闭包中的变量为什么不会消失
    * 当函数返回一个函数对象时，外部的变量保存了函数对象的地址值，所以这个对象不会被清除
    *
    * var x = fn3()
    * 变量x 保存了fn4这个函数对象的地址值，所以其中的变量没有被清除
    *
    * */
    
  </script>
</body>
</html>
